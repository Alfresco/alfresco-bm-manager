<!-- popup modal message -->
<modal modal="data"></modal>
<div class="main" ng-controller="TestRunCopyCtrl">
    <form name="form" class="form-horizontal" id="copy-test-run" role="form" novalidate>
        <div class="form-group">
            <div ng-show="errorMsg != null" class="alert alert-danger">{{errorMsg}}</div>
        </div>
        <div class="form-group">
            <label for="inputTestName" class="col-lg-2 control-label">Test name</label>
            <div class="col-lg-10">
                <div ng-show="form.tName.$dirty && form.tName.$invalid || test.name == runname" class="alert alert-danger">
                    <small class="error" ng-show="test.name == runname" class="required">
                        Test run name must be different from the original.<nbsp />
                    </small>
                    <small class="error">
                        Please enter a valid test run name.
                    </small>
                </div>
                <input type="text" ng-model="test.name" name="tName" ng-minlength="1" class="form-control" id="inputTestName" placeholder="New Test Name" 
                required ng-focus onClick="this.select();" ng-change="validateName(test.name)">
            </div>
        </div>
        <div class="form-group">
            <div class="col-lg-offset-2 col-lg-10">
                <button ng-disabled="!form.$valid || test.name == testname || errorMsg != null" type="submit" class="btn btn-default btn-lg" ng-click="copyTest(test)">Ok</button>
                <a href="#/tests/{{testname}}" ng-click="cancel()" class="btn btn-dark btn-lg" id="cancelCreateTestBtn">Cancel</a>
            </div>
        </div>
    </form>
</div>
